<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Microsoft Edge Multi Portable</title>
    <link rel="icon" type="image/x-icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAHYgAAB2IBOHqZ2wAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAScSURBVFiF7ZZbbFRVFIa/ffY5M53p0AvtMC1oCe20pa0GKdrEEDCBpFXwgZYWKCgpISAJie9eiUSNwScUjRIxSNRUoWCMCUHkgWpb5NIS7CUFRdtpS6cXept2Opdzjg/G0jIUmDbBmPC/nGTvtf71n3/tdfaBh/g/Iy+vzJGXV+aYDYc6m+Qhq6VBmKYE0h+4gNScshe1pLnpSXnZIY/i0Lh0MDQTHmVm5cuk5rB+GLtll6I/t8W6UPV7AfHABKTkGuvVZKfD6s5CiXWQUbHJmpa2OWEmXDNqgarKVwLdXuk/uA+BSU9ji10k6j/RzrJouSJsm/dYuUtVzWrDNF2KqowLRQm6N+Ue/r2yucK9YfHha5XNOw1/2Pnx2wuUsXEDgLhYyc5XO3QlRu27UxEjbMQIIbzGSGCF948TPXcXkL3+iHOpa/NTb62UQlOQVklMkp3x/jFikuz42oY4WXyMxtPZfP7NAAiT7RuSePzZqxRVlSDUyK6aIYOLe6r1ngbv1z2tVVsn70W0wES0OQvmyzmL4qes25x2AGSsht2hokqBM0kiACnBEaeiOSzEJNvuZALJBfOlt6Gn7fb1CAFCoAs5/YE2gmF03QSguOiWyHDQwAjp0+YJKRCCiICopsA04PLecwTGdPRJVIYB/jGd+r11YJrRUEYnoOtsG8N9AnvCHNo6ghPrHTdC2BLmMNwNXdWeqARENYZ9NV3IgtXI1st8VnmdVJdGWDfpu6ljWZSBmbmE3pqLzH8m7b45o3JADxuEGi/ha27iTN0owaCBoZucqR1lpKmJ4JUL6IHpz8GsBWguG6LvOmt/KMXQJGtXxbFmVTy6qrDm+xKUgXasqXeegulwXy3orffSW9+NI8VB4bESNIdG5o58Xt//G4oUZO3Mx+aKpeh4Me2n/qTl0BWSl7pw5rvuyX1PBxre/5ULe6rRx0J0n+viZHEVPs8IGRty6RxR8AxAemkOvo4RTq47jreuk/BokAt7qmnYd252DvRc6qb7lw4Kvy1Gtf0Teq2ymfr3aln5URHLD64BBEIK6t+tJWf7EtwbFwOQs+MJTm/8jp7V3cxbljIzBwZbb+Iuz5koDpBRnI2iSgZa+mg8cInGAxcZaOlDqArp6zJvvZlNxV2ey2DrzZk7kLU5N1KxVfLkm8s5VXqCvF35AFTv/pFnjxajWOWU2MzyyPyoBEwHn2eYhc+7J+we7RzG1zGCNSm6CYDbbkNnVukHilXdpdo0TXVYI4LDvnGefmcFqdN8aG6cbafutZ9RHTG4X1qFp+o8j64vwFN1Ht9f/YT94ZAZCH3Se/XYy//mTHFAClIs2Xla4satoEaaE+r0UPvGpyiiBmmzTNnT/UEMUxK/dTeWBWkMJs7FXlHIoD0We0UhtrExBioPa4GmK1Nmc0oVU/IVw/0lSmKiVGIi7VSd87At3k9oaBChTO23aeho8QkwKU/GxU88DYsFc6hfxzS/nJwXce8uWL7ti/Cw/wXFZjMVqyW6q20aGIGAMPzjQo2LPdJZc2jbXQUAPJJXNtcI49RNY0a/2rdDCkVTVHo7mo7efSYf4r/A32tCoGu61j1CAAAAAElFTkSuQmCC">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            border: 1px solid #ddd;
            overflow: hidden;
        }

        .header {
            background: #333;
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 0;
        }

        .content {
            padding: 30px;
        }

        .section {
            margin-bottom: 30px;
        }

        .section h2 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.3rem;
            border-bottom: 1px solid #ddd;
            padding-bottom: 5px;
        }

        .section h2.versions {
            display: flex;
            align-items: center;
            gap: 8px;
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .section h2.versions::before {
            content: "üì¶";
            font-size: 1.1rem;
        }

        .version-list {
            list-style: none;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .version-item {
            padding: 15px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .version-item:last-child {
            border-bottom: none;
        }

        .version-info h3 {
            font-size: 1rem;
            margin-bottom: 3px;
            color: #333;
        }

        .version-status {
            font-size: 0.85rem;
            color: #666;
        }

        .version-number {
            font-family: 'Consolas', 'Monaco', monospace;
            background: white;
            padding: 6px 12px;
            font-size: 0.9rem;
            color: #495057;
            text-decoration: none;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .version-number:hover {
            background: #f8f9fa;
            text-decoration: none;
        }

        .version-number.unavailable {
            background: transparent;
            color: #999;
            cursor: default;
            border: none;
        }

        .version-number.unavailable:hover {
            background: transparent;
            color: #999;
        }

        .status-dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 6px;
        }

		a[href*="github.com"]:hover {
		    color: #0366d6 !important;
		}

        .status-current { background: #28a745; }
        .status-unavailable { background: #dc3545; }

        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
            font-style: italic;
        }

        .error {
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 4px;
            border: 1px solid #f5c6cb;
            text-align: center;
        }

        .features {
            background: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 20px;
        }

        .features ul {
            list-style: none;
            padding-left: 0;
        }

        .features li {
            padding: 3px 0;
            position: relative;
            padding-left: 20px;
        }

        .features li:before {
            content: "‚Ä¢";
            position: absolute;
            left: 0;
            color: #333;
            font-weight: bold;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 5px;
        }

        .chromium-info {
            font-size: 0.85rem;
            color: #666;
            font-weight: normal;
            border: none;
            padding: 0;
        }

        @media (max-width: 600px) {
            body {
                padding: 10px;
            }
            
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 1.5rem;
            }
            
            .content {
                padding: 20px;
            }

            .version-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }

            .section-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 5px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>Microsoft Edge Multi Portable</h1>
            <p>Download, extract, and use immediately - no installation needed</p>
        </header>

        <div class="content">
            <div class="section">
                <div class="section-header">
                    <h2 class="versions">Available Portable Versions</h2>
                    <div class="chromium-info">
                        <span id="uaChromiumVersion"></span>
                    </div>
                </div>
                <div id="versions-content">
                    <div class="loading">Loading versions from GitHub...</div>
                </div>
            </div>

            <div class="section">
                <h2>‚≠ê Features</h2>
                <div class="features">
                    <ul>
                        <li>Support all Edge channels: Stable, Beta, Developer, Canary - Windows x64 only</li>
                        <li>All data stored locally, no installation required</li>
                        <li>Debloated version with unnecessary features removed</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2>üìÅ Files and Their Purposes</h2>
                <div class="features">
                    <ul>
                        <li><strong>chrome++.ini</strong>: Configuration file for <a href="https://github.com/Bush2021/chrome_plus" target="_blank">Chrome++</a></li>
                        <li><strong>debloater.reg</strong>: Removes unnecessary Edge features</li>
                        <li><strong>default-apps-multi-profile.bat</strong>: Sets Edge as default browser</li>
                        <li><strong>update.bat</strong>: Updates to latest version</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2>‚ö†Ô∏è Warning</h2>
                <div class="features">
                    <ul>
                        <li>Due to the bypass method used to run Edge in portable mode, Microsoft Defender Antivirus may sometimes "potentially" misidentify it as a trojan.</li>
                        <li><strong>Solution:</strong> Allow/exclude the file and wait for Microsoft Defender to update its definitions to remove the false positive.</li>
                        <li>Video, audio DRM content may encounter errors, no solution available yet, as Secure Preferences has been bypassed.</li>
                    </ul>
                </div>
            </div>

		<p style="text-align: center; margin-top: 10px; font-size: 0.9rem;">
                <a href="https://github.com/bibicadotnet/microsoft-edge-multi-portable/" target="_blank" style="color: #24292f; text-decoration: none; font-size: 1.1em; display: inline-flex; align-items: center; gap: 8px; transition: color 0.2s ease;">
                    <svg height="20" width="20" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 
                                 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 
                                 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52
                                 -.01-.53.63-.01 1.08.58 1.23.82.72 1.21 
                                 1.87.87 2.33.66.07-.52.28-.87.51-1.07
                                 -1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59
                                 .82-2.15-.08-.2-.36-1.02.08-2.12 0 0 
                                 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 
                                 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82 
                                 .44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 
                                 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 
                                 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 
                                 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
                        </path>
                    </svg>
                    View Full Source on GitHub
                </a>
            </p>
        </div>
    </div>

    <script>
        // Display user's browser info
        function displayBrowserInfo() {
            if (navigator.userAgentData && navigator.userAgentData.getHighEntropyValues) {
                navigator.userAgentData.getHighEntropyValues(["fullVersionList"]).then(function(data) {
                    if (data.fullVersionList && data.fullVersionList.length > 0) {
                        const brandsList = data.fullVersionList;
                        let chromiumVersion = null;
                        let edgeVersion = null;

                        // Find versions
                        brandsList.forEach(brand => {
                            if (brand.brand === "Chromium") {
                                chromiumVersion = brand.version;
                            }
                            if (brand.brand === "Microsoft Edge") {
                                edgeVersion = brand.version;
                            }
                        });

                        let displayText = "";
                        if (edgeVersion) {
                            displayText = `Microsoft Edge ${edgeVersion}<br>Chromium ${chromiumVersion}`;
                        } else if (chromiumVersion) {
                            displayText = `Chromium ${chromiumVersion}`;
                        }

                        if (displayText) {
                            document.getElementById("uaChromiumVersion").innerHTML = displayText;
                        }
                    }
                }).catch(() => {
                    // Fallback or ignore error
                });
            }
        }

        // L·∫•y th√¥ng tin releases t·ª´ GitHub API
        async function fetchReleases() {
            try {
				let allReleases = [];
				let page = 1;
				const perPage = 100;

				while (true) {
					const response = await fetch(`https://api.github.com/repos/bibicadotnet/microsoft-edge-multi-portable/releases?per_page=${perPage}&page=${page}`);
					const releases = await response.json();
					
					if (!Array.isArray(releases) || releases.length === 0) {
						break; // H·∫øt releases ho·∫∑c l·ªói
					}
					
					allReleases = allReleases.concat(releases);
					
					// N·∫øu s·ªë releases tr·∫£ v·ªÅ < perPage th√¨ ƒë√£ h·∫øt
					if (releases.length < perPage) {
						break;
					}
					
					page++;
				}
				const releases = allReleases;
                
                if (!Array.isArray(releases)) {
                    throw new Error('Invalid response format');
                }

                // L·ªçc v√† s·∫Øp x·∫øp releases
                const processedReleases = processReleases(releases);
                displayReleases(processedReleases);
                
            } catch (error) {
                console.error('Error fetching releases:', error);
                document.getElementById('versions-content').innerHTML = 
                    '<div class="error">Unable to load versions. Please try again later.</div>';
            }
        }

        function processReleases(releases) {
            // L·ªçc c√°c releases c√≥ tag_name ph√π h·ª£p v·ªõi pattern edge-{channel}-portable-x64_{version}_{chromeplus}
            const validReleases = releases.filter(release => {
                return release.tag_name && release.tag_name.match(/^edge-(stable|beta|dev|canary)-portable-x64_[\d\.]+_[\d\.]+$/);
            });

            // T·∫°o map ƒë·ªÉ nh√≥m theo channel
            const channelMap = new Map();
            channelMap.set('stable', { name: 'Microsoft Edge Stable', releases: [] });
            channelMap.set('beta', { name: 'Microsoft Edge Beta', releases: [] });
            channelMap.set('dev', { name: 'Microsoft Edge Developer', releases: [] });
            channelMap.set('canary', { name: 'Microsoft Edge Canary', releases: [] });
            
            validReleases.forEach(release => {
                const match = release.tag_name.match(/^edge-(stable|beta|dev|canary)-portable-x64_([\d\.]+)_([\d\.]+)$/);
                if (match) {
                    const channel = match[1];
                    const edgeVersion = match[2];
                    const chromePlusVersion = match[3];
                    
                    if (channelMap.has(channel)) {
                        channelMap.get(channel).releases.push({
                            ...release,
                            channel: channel,
                            edgeVersion: edgeVersion,
                            chromePlusVersion: chromePlusVersion
                        });
                    }
                }
            });

            // L·∫•y phi√™n b·∫£n m·ªõi nh·∫•t cho m·ªói channel
            const result = [];
            channelMap.forEach((channelData, channel) => {
                if (channelData.releases.length > 0) {
                    // S·∫Øp x·∫øp theo edge version gi·∫£m d·∫ßn v√† l·∫•y phi√™n b·∫£n m·ªõi nh·∫•t
                    const sorted = channelData.releases.sort((a, b) => {
                        return compareVersions(b.edgeVersion, a.edgeVersion);
                    });
                    
                    result.push({
                        channel: channel,
                        name: channelData.name,
                        latest: sorted[0]
                    });
                }
            });

            return result;
        }

        function compareVersions(v1, v2) {
            const parts1 = v1.split('.').map(n => parseInt(n, 10));
            const parts2 = v2.split('.').map(n => parseInt(n, 10));
            
            for (let i = 0; i < Math.max(parts1.length, parts2.length); i++) {
                const num1 = parts1[i] || 0;
                const num2 = parts2[i] || 0;
                if (num1 > num2) return 1;
                if (num1 < num2) return -1;
            }
            return 0;
        }

        function displayReleases(channelReleases) {
            if (channelReleases.length === 0) {
                document.getElementById('versions-content').innerHTML = 
                    '<div class="error">No versions found.</div>';
                return;
            }

            let html = '<ul class="version-list">';
            
            // S·∫Øp x·∫øp theo th·ª© t·ª±: stable, beta, dev, canary
            const order = ['stable', 'beta', 'dev', 'canary'];
            const sortedReleases = channelReleases.sort((a, b) => {
                return order.indexOf(a.channel) - order.indexOf(b.channel);
            });

            sortedReleases.forEach(channelRelease => {
                const release = channelRelease.latest;
                const fileName = `edge-${release.channel}-portable-x64_${release.edgeVersion}_${release.chromePlusVersion}`;
                const downloadUrl = `https://edge.bibica.net/${fileName}/${fileName}.zip`;
                
                html += `
                    <li class="version-item">
                        <div class="version-info">
                            <h3>${channelRelease.name}</h3>
                                <div class="version-status">
                                    <span class="status-dot status-current"></span>
                                    Released: ${new Date(release.published_at).toLocaleDateString('en-GB')}
                                </div>
                        </div>
                        <a href="${downloadUrl}" class="version-number" target="_blank">${release.edgeVersion}</a>
                    </li>
                `;
            });

            // Th√™m c√°c channel kh√¥ng c√≥ release
            const availableChannels = channelReleases.map(r => r.channel);
            const allChannels = [
                { channel: 'stable', name: 'Microsoft Edge Stable' },
                { channel: 'beta', name: 'Microsoft Edge Beta' },
                { channel: 'dev', name: 'Microsoft Edge Developer' },
                { channel: 'canary', name: 'Microsoft Edge Canary' }
            ];

            allChannels.forEach(channelInfo => {
                if (!availableChannels.includes(channelInfo.channel)) {
                    html += `
                        <li class="version-item">
                            <div class="version-info">
                                <h3>${channelInfo.name}</h3>
                                <div class="version-status">
                                    <span class="status-dot status-unavailable"></span>
                                    Currently unavailable
                                </div>
                            </div>
                            <span class="version-number unavailable">N/A</span>
                        </li>
                    `;
                }
            });
            
            html += '</ul>';
            document.getElementById('versions-content').innerHTML = html;
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            displayBrowserInfo();
            fetchReleases();
        });
    </script>
</body>
</html>
